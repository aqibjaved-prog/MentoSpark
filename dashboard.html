<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAD8qGst9qIE_doHHAoA4RXaeIfDEw53XA",
    authDomain: "mentospark-23ad1.firebaseapp.com",
    projectId: "mentospark-23ad1",
    storageBucket: "mentospark-23ad1.appspot.com",
    messagingSenderId: "164763516722",
    appId: "1:164763516722:web:8907112c1b6ad4e6f2212b",
    measurementId: "G-1WXM0GBW68"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  // List of admin or senior student emails
  const allowedEmails = ["mohdamaan5512@gmail.com", "seniorstudent@gmail.com"];

  onAuthStateChanged(auth, (user) => {
    const status = document.getElementById("status");
    const uploadSection = document.getElementById("uploadSection");

    if (user) {
      status.innerText = "Logged in as: " + user.email;
      if (allowedEmails.includes(user.email)) {
        uploadSection.innerHTML = <h3>Upload Area (Only for Admin & Senior)</h3><input type="file">;
      } else {
        uploadSection.innerHTML = <p>‚ùå You are not allowed to upload files.</p>;
      }
    } else {
      status.innerText = "Not logged in. Redirecting...";
      window.location.href = "login.html";
    }
  });
</script>
