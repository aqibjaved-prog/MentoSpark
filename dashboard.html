<!DOCTYPE html>
<html>
<head>
  <title>Dashboard - MentoSpark</title>
</head>
<body>
  <h2>Welcome to MentoSpark Dashboard</h2>

  <!-- This will show who is logged in -->
  <p id="status">Checking login...</p>

  <!-- This is where upload button will appear only for admin or senior -->
  <div id="uploadSection"></div>

  <!-- Firebase Auth Script -->
  <script type="module">
    // Firebase setup
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyAD8qGst9qIE_doHHAoA4RXaeIfDEw53XA",
      authDomain: "mentospark-23ad1.firebaseapp.com",
      projectId: "mentospark-23ad1",
      storageBucket: "mentospark-23ad1.appspot.com",
      messagingSenderId: "164763516722",
      appId: "1:164763516722:web:8907112c1b6ad4e6f2212b",
      measurementId: "G-1WXM0GBW68"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // ‚úÖ Add your admin and senior emails here
    const allowedEmails = [
      "mohdamaan5512@gmail.com",  // You (admin)
      "senior1@gmail.com",        // Another senior student (example)
      "senior2@gmail.com"         // Another (add more if needed)
    ];

    // ‚úÖ Check who is logged in
    onAuthStateChanged(auth, (user) => {
      const status = document.getElementById("status");
      const uploadSection = document.getElementById("uploadSection");

      if (user) {
        status.innerText = "‚úÖ Logged in as: " + user.email;

        if (allowedEmails.includes(user.email)) {
          // ‚úÖ Show upload option for admin/seniors
          uploadSection.innerHTML = `
            <h3>Upload Area (Only for Admin/Senior)</h3>
            <input type="file"><br><br>
            <button>Upload</button>
          `;
        } else {
          // ‚ùå If not admin/senior
          uploadSection.innerHTML = <p>‚ùå You are not allowed to upload files.</p>;
        }

      } else {
        // üîí Not logged in
        status.innerText = "You are not logged in. Redirecting...";
        window.location.href = "login.html";
      }
    });
  </script>
</body>
</html>
